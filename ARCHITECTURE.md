# 语义自举系统：高层架构设计

基于拉康三界理论和语义自举范式，本系统分为三个核心注册层：象征界、想象界、实在界，通过微Agent和运动模块实现耦合。

## 1. 三注册架构

### 象征界（Symbolic Register）
- **功能**：假想的基因库，存储所有经验、知识、历史为纯语义字符串
- **实现**：文件系统中存储的纯文本文件，无结构化数据
- **访问方式**：通过运动模块间接访问，算法不直接操作

### 想象界（Imaginary Register）
- **功能**：上下文构建层，微Agent激活时临时组合字符串
- **实现**：微Agent的运行时上下文，包含背景知识、原始基因、输入信息
- **特点**：基因在想象界和象征界之间流动（类似甲基化）

### 实在界（Real Register）
- **功能**：物理世界反馈：代码编译、测试通过、超时等
- **实现**：运动模块执行代码并返回结果
- **特点**：不讲道理，只说"是"或"否"

## 2. 核心组件

### 微Agent（Micro-Agent）
- **角色**："RNA式"原初实体，既处理语义又触发操作
- **激活方式**：
  - 主体激活：主动拉取依赖信息
  - 被动激活：监听消息，满足条件响应
  - 触发激活：由时间、语境或内部信号联想触发
- **上下文构成**：
  - 背景知识：相对静态，系统提示词附加
  - 原始基因：从象征界拉取的语义片段
  - 输入信息：用户或Agent消息

### 运动模块（Movement Module）
- **功能**：持续监听想象界输出，检测可执行片段并投射到实在界
- **实现**：检测包含 `def`, `print` 等的字符串，执行并反馈结果
- **传感机制**：Agent不主动感知，由实在界程序提供输入

### 淘汰机制（Elimination Mechanism）
- **奖励事件**：成功行为生成事件，用于信用分配
- **死亡事件**：长期无效Agent被删除时生成事件
- **信用分配**：简单衰减规则（如C得1.0，B得0.8，A得0.64）
- **变异Agent**：执行字符串变异操作

## 3. 数据流

1. **激活流**：触发 → 上下文构建 → 微Agent处理 → 输出
2. **执行流**：输出 → 运动模块 → 实在界执行 → 结果反馈
3. **学习流**：反馈 → 奖励/死亡事件 → 背景知识更新 → 淘汰决策
4. **演化流**：长期无奖励 → Agent淘汰 → 基因库变异 → 系统重置

## 4. 文件结构

```
AVM2/
├── SymbolicRegister/     # 象征界：基因库
│   ├── Genes/           # 纯语义字符串文件
│   └── GeneLibrary/     # 基因库管理接口
├── ImaginaryRegister/    # 想象界：上下文与Agent
│   ├── MicroAgents/     # 微Agent框架
│   ├── Contexts/        # 上下文管理
│   └── Activation/      # 激活机制
├── RealRegister/         # 实在界：物理反馈
│   ├── MovementModule/  # 运动模块
│   └── Execution/       # 执行环境
├── Evolution/            # 演化机制
│   ├── Rewards/         # 奖励系统
│   ├── Elimination/     # 淘汰机制
│   └── Mutations/       # 变异代理
└── System/               # 系统级组件
    ├── Main.py          # 主入口
    ├── Config.json      # 系统配置
    └── Events/          # 事件系统
```

## 5. 开发路线图（自上而下）

1. **系统级组件**：创建事件系统和主入口
2. **运动模块**：实现符号-实在耦合
3. **微Agent框架**：构建原初实体
4. **三注册接口**：实现各注册层功能
5. **演化机制**：实现淘汰与变异